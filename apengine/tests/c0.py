from apengine.tests.infrastructure import *
startfile(__file__, "speed")

# Speed limits

startsetup()
A1 = aircraft("A1", "F-80C" , 1115, "N"  , 20, 5.0, "CL")
endsetup()
startturn()
A1.move("SD",  "M", "H,H,D2,D2,D2")
A1._assert("1113       N    14",  6.0)
endturn()
startturn()
A1.move("SD",  "M", "H,H,D2,D2,D2,D2")
A1._assert("1111       N     6",  6.5)
endturn()
startturn()
A1.move("SD",  "M", "H,H,H,H,H,D2")
A1._assert("1106       N     4",  6.5)
A1.move("SD",  "M", "H,H,H,H,H,D")
A1._assert("1106       N     5",  5.5)
endturn()

# Acceleration and deceleration

startsetup()
A1 = aircraft("A1", "F-80C", 1115, "N", 10, 2.5, "CL")
A2 = aircraft("A2", "F-80C", 1315, "N", 10, 3.0, "CL")
A3 = aircraft("A3", "F-80C", 1515, "N", 10, 3.5, "CL")
A4 = aircraft("A4", "F-80C", 1715, "N", 10, 4.0, "CL")
endsetup()

A1._assert("1115       N    10", 2.5)
A2._assert("1315       N    10", 3.0)
A3._assert("1515       N    10", 3.5)
A4._assert("1715       N    10", 4.0)

startturn()
A1.move("LVL",  "M", "H,H"    )
A1._assert("1113       N    10",  2.5)
A2.move("LVL",  "M", "H,H,H"  )
A2._assert("1312       N    10",  3.0)
A3.move("LVL",  "M", "H,H,H"  )
A3._assert("1512       N    10",  3.5)
A4.move("LVL",  "M", "H,H,H,H")
A4._assert("1711       N    10",  4.0)
endturn()

startturn()
A1.move("LVL",  "M", "H,H,H"  )
A1._assert("1110       N    10",  3.0)
A2.move("LVL",  "M", "H,H,H"  )
A2._assert("1309       N    10",  3.5)
A3.move("LVL",  "M", "H,H,H,H")
A3._assert("1508       N    10",  4.0)
A4.move("LVL",  "M", "H,H,H,H")
A4._assert("1707       N    10",  4.5)
endturn()

startturn()
A1.move("LVL",  "M", "H,H,H"  )
A1._assert("1107       N    10",  3.0)
A2.move("LVL",  "M", "H,H,H"  )
A2._assert("1306       N    10",  3.5)
A3.move("LVL",  "M", "H,H,H,H")
A3._assert("1504       N    10",  4.0)
A4.move("LVL",  "M", "H,H,H,H")
A4._assert("1703       N    10",  4.5)
endturn()

# SS acceleration and deceleration

startsetup(sheets=[["A1"],["A2"],["B1"],["B2"]])
A1 = aircraft("A1", "F-100A", 2002, "S", 51, 5.5, "CL")
A2 = aircraft("A2", "F-100A", 2202, "S", 51, 5.5, "CL")
A3 = aircraft("A3", "F-100A", 2402, "S", 51, 5.5, "CL")
A4 = aircraft("A4", "F-100A", 2602, "S", 51, 5.5, "CL")
endsetup()

startturn()
A1.move("SD",  "AB", "H,H,H,H,D"    )
A1._assert("2006       S    50",  5.5)
A2.move("SD",  "AB", "H,H,H,H,D"    )
A2._assert("2206       S    50",  5.5)
A3.move("SD",  "AB", "H,H,H,H,D"    )
A3._assert("2406       S    50",  5.5)
A4.move("SD",  "AB", "H,H,H,H,D"    )
A4._assert("2606       S    50",  5.5)
endturn()

startturn()
A1.move("VD",  "AB", "H,H,D3,D3,D3,D3")
A1._assert("2008       S    38",  8.5)
A2.move("VD",  "AB", "H,H,D3,D3,D3,D3")
A2._assert("2208       S    38",  8.5)
A3.move("VD",  "AB", "H,H,D3,D3,D3,D3")
A3._assert("2408       S    38",  8.5)
A4.move("VD",  "AB", "H,H,D3,D3,D3,D3")
A4._assert("2608       S    38",  8.5)
endturn()

startturn()
A1.move("SD",  "AB", "H,H,H,H,D2,D2,D2,D2")
A1._assert("2012       S    30",  9.5)
A2.move("SD",  "AB", "H,H,H,H,D2,D2,D2,D2")
A2._assert("2212       S    30",  9.5)
A3.move("SD",  "AB", "H,H,H,H,D2,D2,D2,D2")
A3._assert("2412       S    30",  9.5)
A4.move("SD",  "AB", "H,H,H,H,D2,D2,D2,D2")
A4._assert("2612       S    30",  9.5)
endturn()

startturn()
A1.move("LVL",  "AB", "H,H,H,H,H,H,H,H,H,H")
A1._assert("2022       S    30",  8.5)
A2.move("LVL",  "AB", "H,H,H,H,H,H,H,H,H,H")
A2._assert("2222       S    30",  8.5)
A3.move("LVL",  "AB", "H,H,H,H,H,H,H,H,H,H")
A3._assert("2422       S    30",  8.5)
A4.move("LVL",  "AB", "H,H,H,H,H,H,H,H,H,H")
A4._assert("2622       S    30",  8.5)
endturn()

startturn()
A1.move("LVL",  "AB", "H,H,H,H,H,H,H,H")
A1._assert("2030       S    30",  8.5)
A2.move("LVL",  "M", "H,H,H,H,H,H,H,H")
A2._assert("2230       S    30",  8.0)
A3.move("LVL",  "N", "H,H,H,H,H,H,H,H")
A3._assert("2430       S    30",  7.0)
A4.move("LVL",  "I", "H,H,H,H,H,H,H")
A4._assert("2629       S    30",  7.0)
endturn()

startturn()
A1.move("LVL",  "AB", "H,H,H,H,H,H,H,H,H")
A1._assert("4009       S    30",  8.5)
A2.move("LVL",  "M", "H,H,H,H,H,H,H,H")
A2._assert("4208       S    30",  7.0)
A3.move("LVL",  "N", "H,H,H,H,H,H,H")
A3._assert("4407       S    30",  6.0)
A4.move("LVL",  "I", "H,H,H,H,H,H")
A4._assert("4605       S    30",  5.5)
endturn()

startturn()
A1.move("LVL",  "AB", "H,H,H,H,H,H,H,H")
A1._assert("4017       S    30",  8.5)
A2.move("LVL",  "M", "H,H,H,H,H,H,H")
A2._assert("4215       S    30",  6.5)
A3.move("LVL",  "N", "H,H,H,H,H,H")
A3._assert("4413       S    30",  5.5)
A4.move("LVL",  "I", "H,H,H,H,H")
A4._assert("4610       S    30",  5.0)
endturn()


endfile(__file__)
