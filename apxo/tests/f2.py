from apxo.tests.infrastructure import *
startfile(__file__, "special flight")

from apxo.tests.infrastructure import *

starttestsetup()
A1 = aircraft("A1", "O-1E"  , "2030", "N", 5, 0, "CL", color="green")
A2 = aircraft("A2", "O-2A"  , "2230", "N", 5, 0, "CL", color="green")
A3 = aircraft("A3", "HH-53C", "2430", "N", 5, 0, "CL", color="green")
endtestsetup()

startturn()
A1.move("SP", 0, "H")
A1._assert("2029       N     5", 0)

startturn()
A1.move("SP", 0, "HR")
A1._assert("2029       NNE   5", 0)
startturn()
A1.move("SP", 0, "HL")
A1._assert("2029       NNW   5", 0)
startturn()
A1.move("SP", 0, "HRR")
A1._assert("2029       ENE   5", 0)
startturn()
A1.move("SP", 0, "HLL")
A1._assert("2029       WNW   5", 0)

startturn()
A1.move("SP", 0, "RH")
A1._assert("2029/2129  NNE   5", 0)
startturn()
A1.move("SP", 0, "LH")
A1._assert("1929/2029  NNW   5", 0)
startturn()
A1.move("SP", 0, "RRH")
A1._assert("2129       ENE   5", 0)
startturn()
A1.move("SP", 0, "LLH")
A1._assert("1929       WNW   5", 0)

startturn()
A1.move("SP", 0, "RR")
A1._assert("2030       ENE   5", 0)
startturn()
A1.move("SP", 0, "RRR")
A1._assert("2030       E     5", 0)
startturn()
A1.move("SP", 0, "R120")
A1._assert("2030       ESE   5", 0)
startturn()
A1.move("SP", 0, "LL")
A1._assert("2030       WNW   5", 0)
startturn()
A1.move("SP", 0, "LLL")
A1._assert("2030       W     5", 0)
startturn()
A1.move("SP", 0, "L120")
A1._assert("2030       WSW   5", 0)

startturn()
A1.move("SP", 0, "HD")
A1._assert("2029       N     4", 0)

startturn()
A1.move("SP", 0, "HRD")
A1._assert("2029       NNE   4", 0)
startturn()
A1.move("SP", 0, "HLD")
A1._assert("2029       NNW   4", 0)
startturn()
A1.move("SP", 0, "HRRD")
A1._assert("2029       ENE   4", 0)
startturn()
A1.move("SP", 0, "HLLD")
A1._assert("2029       WNW   4", 0)

startturn()
A1.move("SP", 0, "RHD")
A1._assert("2029/2129  NNE   4", 0)
startturn()
A1.move("SP", 0, "LHD")
A1._assert("1929/2029  NNW   4", 0)
startturn()
A1.move("SP", 0, "RRHD")
A1._assert("2129       ENE   4", 0)
startturn()
A1.move("SP", 0, "LLHD")
A1._assert("1929       WNW   4", 0)

startturn()
A1.move("SP", 0, "RRD")
A1._assert("2030       ENE   4", 0)
startturn()
A1.move("SP", 0, "RRRD")
A1._assert("2030       E     4", 0)
startturn()
A1.move("SP", 0, "R120D")
A1._assert("2030       ESE   4", 0)
startturn()
A1.move("SP", 0, "LLD")
A1._assert("2030       WNW   4", 0)
startturn()
A1.move("SP", 0, "LLLD")
A1._assert("2030       W     4", 0)
startturn()
A1.move("SP", 0, "L120D")
A1._assert("2030       WSW   4", 0)

startturn()
A3.move("SP", 0, "R30")
A3._assert("2430       NNE   5", 0)
startturn()
A3.move("SP", 0, "R60")
A3._assert("2430       ENE   5", 0)
startturn()
A3.move("SP", 0, "R90")
A3._assert("2430       E     5", 0)
startturn()
A3.move("SP", 0, "R120")
A3._assert("2430       ESE   5", 0)
startturn()
A3.move("SP", 0, "R150")
A3._assert("2430       SSE   5", 0)
startturn()
A3.move("SP", 0, "R180")
A3._assert("2430       S     5", 0)

startturn()
A3.move("SP", 0, "L30")
A3._assert("2430       NNW   5", 0)
startturn()
A3.move("SP", 0, "L60")
A3._assert("2430       WNW   5", 0)
startturn()
A3.move("SP", 0, "L90")
A3._assert("2430       W     5", 0)
startturn()
A3.move("SP", 0, "L120")
A3._assert("2430       WSW   5", 0)
startturn()
A3.move("SP", 0, "L150")
A3._assert("2430       SSW   5", 0)
startturn()
A3.move("SP", 0, "L180")
A3._assert("2430       S     5", 0)

startturn()
A1.move("SP", 0, "HC")
A1._assert("2029       N     5", 0)
A2.move("SP", 0, "HHC")
A2._assert("2228       N     5", 0)
A3.move("SP", 0, "HC")
A3._assert("2429       N     5", 0)

endturn()

startturn()
A1.move("SP", 0, "HC")
A1._assert("2028       N     5", 0)
A2.move("SP", 0, "HHC")
A2._assert("2226       N     6", 0)
A3.move("SP", 0, "HHC")
A3._assert("2427       N     5", 0)
endturn()

startturn()
A1.move("SP", 0, "HC")
A1._assert("2027       N     5", 0)
A2.move("SP", 0, "HHC")
A2._assert("2224       N     6", 0)
A3.move("SP", 0, "HC")
A3._assert("2426       N     5", 0)
endturn()

startturn()
A1.move("SP", 0, "HC")
A1._assert("2026       N     6", 0)
A2.move("SP", 0, "HHC")
A2._assert("2222       N     7", 0)
A3.move("SP", 0, "HHC")
A3._assert("2424       N     6", 0)
endturn()

endfile(__file__)